<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="DarkFi PoW module"><title>darkfi::validator::pow - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="darkfi" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (ed7e35f34 2024-07-06)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../darkfi/index.html">darkfi</a><span class="version">0.4.1</span></h2></div><h2 class="location"><a href="#">Module pow</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In darkfi::validator</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">darkfi</a>::<wbr><a href="../index.html">validator</a>::<wbr><a class="mod" href="#">pow</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/darkfi/validator/pow.rs.html#19-493">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>DarkFi PoW module</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.PoWModule.html" title="struct darkfi::validator::pow::PoWModule">PoWModule</a></div><div class="desc docblock-short">This struct represents the information required by the PoW algorithm</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.BLOCKCHAIN_TIMESTAMP_CHECK_WINDOW.html" title="constant darkfi::validator::pow::BLOCKCHAIN_TIMESTAMP_CHECK_WINDOW">BLOCKCHAIN_TIMESTAMP_CHECK_WINDOW</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">How many most recent blocks to use to verify new blocksâ€™ timestamp</div></li><li><div class="item-name"><a class="constant" href="constant.BLOCK_FUTURE_TIME_LIMIT.html" title="constant darkfi::validator::pow::BLOCK_FUTURE_TIME_LIMIT">BLOCK_FUTURE_TIME_LIMIT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Time limit in the future of what blocks can be</div></li><li><div class="item-name"><a class="constant" href="constant.BUF_SIZE.html" title="constant darkfi::validator::pow::BUF_SIZE">BUF_SIZE</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Ring buffer length.
Must be == DIFFICULTY_WINDOW + DIFFICULTY_LAG</div></li><li><div class="item-name"><a class="constant" href="constant.CUT_BEGIN.html" title="constant darkfi::validator::pow::CUT_BEGIN">CUT_BEGIN</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Already known cutoff start index for this config</div></li><li><div class="item-name"><a class="constant" href="constant.CUT_END.html" title="constant darkfi::validator::pow::CUT_END">CUT_END</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Already known cutoff end index for this config</div></li><li><div class="item-name"><a class="constant" href="constant.DIFFICULTY_WINDOW.html" title="constant darkfi::validator::pow::DIFFICULTY_WINDOW">DIFFICULTY_WINDOW</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Amount of max items(blocks) to use for next difficulty calculation.
Must be &gt;= 2 and == BUF_SIZE - DIFFICULTY_LAG.</div></li><li><div class="item-name"><a class="constant" href="constant.RETAINED.html" title="constant darkfi::validator::pow::RETAINED">RETAINED</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Max items to use for next difficulty calculation.
Must be DIFFICULTY_WINDOW - 2 * DIFFICULTY_CUT</div></li><li><div class="item-name"><a class="constant" href="constant._DIFFICULTY_CUT.html" title="constant darkfi::validator::pow::_DIFFICULTY_CUT">_DIFFICULTY_CUT</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Used to calculate how many items to retain for next difficulty
calculation. We are keeping the middle items, meaning cutting
both from frond and back of the ring buffer, ending up with max
DIFFICULTY_WINDOW - 2<em>DIFFICULTY_CUT items.
(2</em>DIFFICULTY_CUT &lt;= DIFFICULTY_WINDOW-2) must be true.</div></li><li><div class="item-name"><a class="constant" href="constant._DIFFICULTY_LAG.html" title="constant darkfi::validator::pow::_DIFFICULTY_LAG">_DIFFICULTY_LAG</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Amount of latest blocks to exlude from the calculation.
Our ring buffer has length: DIFFICULTY_WINDOW + DIFFICULTY_LAG,
but we only use DIFFICULTY_WINDOW items in calculations.
Must be == BUF_SIZE - DIFFICULTY_WINDOW.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.mine_block.html" title="fn darkfi::validator::pow::mine_block">mine_block</a></div><div class="desc docblock-short">Mine provided block, based on provided PoW module next mine target</div></li></ul></section></div></main></body></html>